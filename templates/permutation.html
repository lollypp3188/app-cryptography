<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Permutation Cipher</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.7.3/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            corePlugins: {
                preflight: false,
            }
        }
    </script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/override.css') }}">
</head>
<body>
    <div class="m-4">
        <h2 class="pb-4">Permutation cipher</h2>
        <form id="permutationForm" action="/permutation" method="post">
            <div class="pb-2" id="main">
                <div id="info" style="visibility: visible;">
                    <p id="info_start" style="display: inline;">
                        Click on the button and begin speaking for as long as you like.
                    </p>
                    <p id="info_speak_now" style="display:none">
                        Speak now.
                    </p>
                    <p id="info_no_speech" style="display:none">
                        No speech was detected. You may need to adjust your <a
                            href="//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892">microphone
                            settings</a>.
                    </p>
                    <p id="info_no_microphone" style="display:none">
                        No microphone was found. Ensure that a microphone is installed and that
                        <a href="//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892">
                            microphone settings</a> are configured correctly.
                    </p>
                    <p id="info_allow" style="display:none">
                        Click the "Allow" button above to enable your microphone.
                    </p>
                    <p id="info_denied" style="display:none">
                        Permission to use microphone was denied.
                    </p>
                    <p id="info_blocked" style="display:none">
                        Permission to use microphone is blocked. To change, go to
                        chrome://settings/contentExceptions#media-stream
                    </p>
                    <p id="info_upgrade" style="display:none">
                        Web Speech API is not supported by this browser. Upgrade to <a href="//www.google.com/chrome">Chrome</a>
                        version
                        25 or later.
                    </p>
                </div>
            </div>
            <div class="flex gap-3">
                <div class="flex gap-2 flex-col">
                    <button id="start_button" class="btn btn-info" onclick="startButton(event)" style="display: inline-block;">
                        click to start record
                    </button>
                    <div id="div_language">
                        <select id="select_language" class="select select-bordered w-full max-w-x" onchange="updateCountry()">
                            <option value="0">English</option>
                            <option value="1">Українська</option>
                        </select>
                        <select id="select_dialect" class="hidden"></select>
                    </div>
                </div>
                <textarea type="text" class="w-full textarea textarea-bordered placeholder:italic placeholder:text-slate-400" id="text"
                    name="text"></textarea>
            </div>
            
            <label for="permutation">Permutation (comma-separated numbers):</label><br>
            <input class="w-full input input-bordered" type="text" id="permutation" name="permutation" value="1, 5, 20, 12, 2, 22, 15, 3, 24, 13, 6, 17, 8, 25, 18, 10, 4, 19, 7, 11, 14, 16, 9, 0, 23, 21"><br>
            
            <label for="action">Choose action:</label><br>
            <select class="select select-bordered" id="action" name="action">
                <option value="encrypt">Encrypt</option>
                <option value="decrypt">Decrypt</option>
            </select><br><br>
            
            <input class="btn btn-primary" type="submit" value="Submit">
        </form>
        <textarea type="text" class="hidden" id="result"></textarea>
    </div>

    <script src="{{ url_for('static', filename='js/speech.js') }}"></script>
    <script src="{{ url_for('static', filename='js/permutation.js') }}"></script>
</body>
</html>

